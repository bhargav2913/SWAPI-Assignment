{"ast":null,"code":"import { computed, signal, effect } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/swapi.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CharacterListComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", f_r1.url);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" Ep \", f_r1.episode_id, \" \\u2014 \", f_r1.title, \" \");\n  }\n}\nfunction CharacterListComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r2.url);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r2.name);\n  }\n}\nfunction CharacterListComponent_li_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 22);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_li_35_Template_li_click_0_listener() {\n      const p_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.open(p_r4));\n    });\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 23);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r4.birth_year);\n  }\n}\nfunction CharacterListComponent_ng_container_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CharacterListComponent_ng_container_52_Template_button_click_1_listener() {\n      const page_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.goToPage(page_r7));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const page_r7 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"active\", page_r7 === ctx_r4.currentPage());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", page_r7, \" \");\n  }\n}\nexport class CharacterListComponent {\n  swapi;\n  router;\n  people = signal([]);\n  films = signal([]);\n  species = signal([]);\n  searchTerm = signal('');\n  selectedFilmUrl = signal('');\n  selectedSpeciesUrl = signal('');\n  minYear = signal(null);\n  maxYear = signal(null);\n  currentPage = signal(1);\n  pageSize = signal(10);\n  filtered = computed(() => {\n    const term = this.searchTerm().toLowerCase().trim();\n    const film = this.selectedFilmUrl();\n    const species = this.selectedSpeciesUrl();\n    const min = this.minYear();\n    const max = this.maxYear();\n    return this.people().filter(p => {\n      if (term && !p.name.toLowerCase().includes(term)) return false;\n      if (film && !p.films.includes(film)) return false;\n      if (species && !p.species.includes(species)) return false;\n      const parsed = this.swapi.parseBirthYear(p.birth_year);\n      if (min !== null && parsed !== null && parsed < min) return false;\n      if (max !== null && parsed !== null && parsed > max) return false;\n      if ((min !== null || max !== null) && parsed === null) return false;\n      return true;\n    });\n  });\n  paginated = computed(() => {\n    const all = this.filtered();\n    const size = this.pageSize();\n    const start = (this.currentPage() - 1) * size;\n    return all.slice(start, start + size);\n  });\n  totalPages = computed(() => {\n    return Math.ceil(this.filtered().length / this.pageSize()) || 1;\n  });\n  pages = computed(() => {\n    const total = this.totalPages();\n    return Array.from({\n      length: total\n    }, (_, i) => i + 1);\n  });\n  constructor(swapi, router) {\n    this.swapi = swapi;\n    this.router = router;\n    this.swapi.getAllPeople().subscribe(all => {\n      this.people.set(all);\n      this.swapi.prefetchForFilters(all).subscribe(([films, species]) => {\n        this.films.set([...films].sort((a, b) => a.episode_id - b.episode_id));\n        this.species.set([...species].sort((a, b) => a.name.localeCompare(b.name)));\n      });\n    });\n    effect(() => {\n      this.searchTerm();\n      this.selectedFilmUrl();\n      this.selectedSpeciesUrl();\n      this.minYear();\n      this.maxYear();\n      this.pageSize();\n      this.filtered();\n      this.currentPage.set(1);\n    });\n  }\n  open(p) {\n    const id = this.swapi.idFromUrl(p.url);\n    this.router.navigate(['/characters', id]);\n  }\n  clearFilters() {\n    this.selectedFilmUrl.set('');\n    this.selectedSpeciesUrl.set('');\n    this.minYear.set(null);\n    this.maxYear.set(null);\n    this.searchTerm.set('');\n    this.currentPage.set(1);\n  }\n  goToPage(page) {\n    if (page >= 1 && page <= this.totalPages()) {\n      this.currentPage.set(page);\n    }\n  }\n  nextPage() {\n    if (this.currentPage() < this.totalPages()) {\n      this.currentPage.update(v => v + 1);\n    }\n  }\n  prevPage() {\n    if (this.currentPage() > 1) {\n      this.currentPage.update(v => v - 1);\n    }\n  }\n  goToFirstPage() {\n    this.currentPage.set(1);\n  }\n  goToLastPage() {\n    this.currentPage.set(this.totalPages());\n  }\n  static ɵfac = function CharacterListComponent_Factory(t) {\n    return new (t || CharacterListComponent)(i0.ɵɵdirectiveInject(i1.SwapiService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CharacterListComponent,\n    selectors: [[\"app-character-list\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 57,\n    vars: 19,\n    consts: [[1, \"layout\"], [1, \"toolbar\"], [1, \"field\", \"search-box\"], [\"type\", \"search\", \"placeholder\", \"Search characters\\u2026\", 3, \"ngModelChange\", \"ngModel\"], [1, \"field\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"range-row\"], [\"type\", \"text\", \"placeholder\", \"Min (-30 = 30BBY)\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Max (5 = 5ABY)\", 3, \"ngModelChange\", \"ngModel\"], [3, \"click\"], [1, \"list-card\"], [1, \"list-header\"], [1, \"list\"], [\"class\", \"item\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"pagination-controls\"], [3, \"ngValue\"], [1, \"pagination\"], [3, \"click\", \"disabled\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"item\", 3, \"click\"], [1, \"chip\"]],\n    template: function CharacterListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function CharacterListComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.searchTerm.set($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"label\");\n        i0.ɵɵtext(6, \"Movie\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"select\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function CharacterListComponent_Template_select_ngModelChange_7_listener($event) {\n          return ctx.selectedFilmUrl.set($event);\n        });\n        i0.ɵɵelementStart(8, \"option\", 6);\n        i0.ɵɵtext(9, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, CharacterListComponent_option_10_Template, 2, 3, \"option\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\");\n        i0.ɵɵtext(13, \"Species\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"select\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function CharacterListComponent_Template_select_ngModelChange_14_listener($event) {\n          return ctx.selectedSpeciesUrl.set($event);\n        });\n        i0.ɵɵelementStart(15, \"option\", 6);\n        i0.ɵɵtext(16, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, CharacterListComponent_option_17_Template, 2, 2, \"option\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 4)(19, \"label\");\n        i0.ɵɵtext(20, \"Birth Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 8)(22, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function CharacterListComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.minYear.set($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"span\");\n        i0.ɵɵtext(24, \"to\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function CharacterListComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.maxYear.set($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_26_listener() {\n          return ctx.clearFilters();\n        });\n        i0.ɵɵtext(27, \"Clear\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"section\", 12)(29, \"div\", 13)(30, \"h2\");\n        i0.ɵɵtext(31, \"Characters\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"span\");\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"ul\", 14);\n        i0.ɵɵtemplate(35, CharacterListComponent_li_35_Template, 5, 2, \"li\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 16)(37, \"label\");\n        i0.ɵɵtext(38, \" Show \");\n        i0.ɵɵelementStart(39, \"select\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function CharacterListComponent_Template_select_ngModelChange_39_listener($event) {\n          return ctx.pageSize.set($event);\n        });\n        i0.ɵɵelementStart(40, \"option\", 17);\n        i0.ɵɵtext(41, \"10\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"option\", 17);\n        i0.ɵɵtext(43, \"20\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"option\", 17);\n        i0.ɵɵtext(45, \"50\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(46, \" per page \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\", 18)(48, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_48_listener() {\n          return ctx.goToFirstPage();\n        });\n        i0.ɵɵtext(49, \"First\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_50_listener() {\n          return ctx.prevPage();\n        });\n        i0.ɵɵtext(51, \"Prev\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(52, CharacterListComponent_ng_container_52_Template, 3, 3, \"ng-container\", 20);\n        i0.ɵɵelementStart(53, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_53_listener() {\n          return ctx.nextPage();\n        });\n        i0.ɵɵtext(54, \"Next\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function CharacterListComponent_Template_button_click_55_listener() {\n          return ctx.goToLastPage();\n        });\n        i0.ɵɵtext(56, \"Last\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedFilmUrl());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.films());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedSpeciesUrl());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.species());\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.minYear());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.maxYear());\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate2(\"\", ctx.filtered().length, \" of \", ctx.people().length, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.paginated());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.pageSize());\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngValue\", 10);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngValue\", 20);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngValue\", 50);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage() === 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage() === 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pages());\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage() === ctx.totalPages());\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage() === ctx.totalPages());\n      }\n    },\n    dependencies: [CommonModule, i3.NgForOf, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".layout[_ngcontent-%COMP%] { display:grid; grid-template-columns: 280px 1fr; gap:1rem; }\\n@media (max-width: 800px){ .layout[_ngcontent-%COMP%] { grid-template-columns: 1fr; } }\\n.filters[_ngcontent-%COMP%] { background:var(--card); padding:1rem; border-radius:.5rem; }\\n.field[_ngcontent-%COMP%] { margin-bottom:1rem; display:flex; flex-direction:column; }\\n.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] { font-size:.9rem; color:var(--muted); }\\n.list-card[_ngcontent-%COMP%] { background:var(--card); padding:1rem; border-radius:.5rem; }\\n.list[_ngcontent-%COMP%] { list-style:none; padding:0; display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:.5rem; }\\n.item[_ngcontent-%COMP%] { background:#0f1422; padding:.6rem; border-radius:.5rem; display:flex; justify-content:space-between; cursor:pointer; }\\n.item[_ngcontent-%COMP%]:hover { border:1px solid var(--accent); }\\n.chip[_ngcontent-%COMP%] { background:var(--chip); padding:.2rem .4rem; border-radius:.3rem; font-size:.8rem; }\\n.search-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: .5rem;\\n}\\n\\n.search-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: .4rem;\\n  border: 1px solid #20263a;\\n  border-radius: .3rem;\\n  background: #0f1422;\\n  color: var(--text);\\n}\\n\\n.search-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background: var(--accent);\\n  border: none;\\n  color: #000;\\n  padding: .4rem .8rem;\\n  border-radius: .3rem;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: background 0.2s ease;\\n}\\n.search-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background: #88d1ff;\\n}\\n.filters[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n  margin-top: 1rem;\\n  margin-bottom: .5rem;\\n  color: var(--text);\\n}\\n.pagination-controls[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin: 0.5rem 0;\\n  font-size: 0.9rem;\\n}\\n\\n.pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  margin: 0 0.3rem;\\n  padding: 0.2rem 0.4rem;\\n  border-radius: 4px;\\n}\\n\\n.pagination[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  gap: 0.5rem;\\n  margin-top: 1rem;\\n  flex-wrap: wrap;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  padding: 0.4rem 0.8rem;\\n  border: none;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  background: #2d3748;\\n  color: #fff;\\n  transition: background 0.2s ease;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background: #4a5568;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled {\\n  background: #1a202c;\\n  cursor: not-allowed;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%] {\\n  background: #3182ce;\\n  font-weight: bold;\\n}\\n.top-search[_ngcontent-%COMP%] {\\n  margin: 0.5rem 0 1rem 0;\\n  display: flex;\\n  justify-content: flex-start;\\n}\\n\\n.top-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.4rem 0.6rem;\\n  border-radius: 6px;\\n  border: 1px solid #ccc;\\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGFyYWN0ZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxVQUFVLFlBQVksRUFBRSxnQ0FBZ0MsRUFBRSxRQUFRLEVBQUU7QUFDcEUsMkJBQTJCLFVBQVUsMEJBQTBCLEVBQUUsRUFBRTtBQUNuRSxXQUFXLHNCQUFzQixFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRTtBQUN0RSxTQUFTLGtCQUFrQixFQUFFLFlBQVksRUFBRSxxQkFBcUIsRUFBRTtBQUNsRSxlQUFlLGVBQWUsRUFBRSxrQkFBa0IsRUFBRTtBQUNwRCxhQUFhLHNCQUFzQixFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRTtBQUN4RSxRQUFRLGVBQWUsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLHlEQUF5RCxFQUFFLFNBQVMsRUFBRTtBQUN4SCxRQUFRLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxtQkFBbUIsRUFBRSxZQUFZLEVBQUUsNkJBQTZCLEVBQUUsY0FBYyxFQUFFO0FBQzdILGNBQWMsOEJBQThCLEVBQUU7QUFDOUMsUUFBUSxzQkFBc0IsRUFBRSxtQkFBbUIsRUFBRSxtQkFBbUIsRUFBRSxlQUFlLEVBQUU7QUFDM0Y7RUFDRSxhQUFhO0VBQ2IsVUFBVTtBQUNaOztBQUVBO0VBQ0UsT0FBTztFQUNQLGNBQWM7RUFDZCx5QkFBeUI7RUFDekIsb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFdBQVc7RUFDWCxvQkFBb0I7RUFDcEIsb0JBQW9CO0VBQ3BCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsZ0NBQWdDO0FBQ2xDO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsb0JBQW9CO0VBQ3BCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsdUJBQXVCO0VBQ3ZCLGFBQWE7RUFDYiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixzQkFBc0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5sYXlvdXQgeyBkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMjgwcHggMWZyOyBnYXA6MXJlbTsgfVxuQG1lZGlhIChtYXgtd2lkdGg6IDgwMHB4KXsgLmxheW91dCB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IH1cbi5maWx0ZXJzIHsgYmFja2dyb3VuZDp2YXIoLS1jYXJkKTsgcGFkZGluZzoxcmVtOyBib3JkZXItcmFkaXVzOi41cmVtOyB9XG4uZmllbGQgeyBtYXJnaW4tYm90dG9tOjFyZW07IGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyB9XG4uZmllbGQgbGFiZWwgeyBmb250LXNpemU6LjlyZW07IGNvbG9yOnZhcigtLW11dGVkKTsgfVxuLmxpc3QtY2FyZCB7IGJhY2tncm91bmQ6dmFyKC0tY2FyZCk7IHBhZGRpbmc6MXJlbTsgYm9yZGVyLXJhZGl1czouNXJlbTsgfVxuLmxpc3QgeyBsaXN0LXN0eWxlOm5vbmU7IHBhZGRpbmc6MDsgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMjIwcHgsMWZyKSk7IGdhcDouNXJlbTsgfVxuLml0ZW0geyBiYWNrZ3JvdW5kOiMwZjE0MjI7IHBhZGRpbmc6LjZyZW07IGJvcmRlci1yYWRpdXM6LjVyZW07IGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGN1cnNvcjpwb2ludGVyOyB9XG4uaXRlbTpob3ZlciB7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYWNjZW50KTsgfVxuLmNoaXAgeyBiYWNrZ3JvdW5kOnZhcigtLWNoaXApOyBwYWRkaW5nOi4ycmVtIC40cmVtOyBib3JkZXItcmFkaXVzOi4zcmVtOyBmb250LXNpemU6LjhyZW07IH1cbi5zZWFyY2gtcm93IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAuNXJlbTtcbn1cblxuLnNlYXJjaC1yb3cgaW5wdXQge1xuICBmbGV4OiAxO1xuICBwYWRkaW5nOiAuNHJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgIzIwMjYzYTtcbiAgYm9yZGVyLXJhZGl1czogLjNyZW07XG4gIGJhY2tncm91bmQ6ICMwZjE0MjI7XG4gIGNvbG9yOiB2YXIoLS10ZXh0KTtcbn1cblxuLnNlYXJjaC1yb3cgYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50KTtcbiAgYm9yZGVyOiBub25lO1xuICBjb2xvcjogIzAwMDtcbiAgcGFkZGluZzogLjRyZW0gLjhyZW07XG4gIGJvcmRlci1yYWRpdXM6IC4zcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycyBlYXNlO1xufVxuLnNlYXJjaC1yb3cgYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogIzg4ZDFmZjtcbn1cbi5maWx0ZXJzIGgyIHtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIG1hcmdpbi10b3A6IDFyZW07XG4gIG1hcmdpbi1ib3R0b206IC41cmVtO1xuICBjb2xvcjogdmFyKC0tdGV4dCk7XG59XG4ucGFnaW5hdGlvbi1jb250cm9scyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIG1hcmdpbjogMC41cmVtIDA7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xufVxuXG4ucGFnaW5hdGlvbi1jb250cm9scyBzZWxlY3Qge1xuICBtYXJnaW46IDAgMC4zcmVtO1xuICBwYWRkaW5nOiAwLjJyZW0gMC40cmVtO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi5wYWdpbmF0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMC41cmVtO1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG5cbi5wYWdpbmF0aW9uIGJ1dHRvbiB7XG4gIHBhZGRpbmc6IDAuNHJlbSAwLjhyZW07XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJhY2tncm91bmQ6ICMyZDM3NDg7XG4gIGNvbG9yOiAjZmZmO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnMgZWFzZTtcbn1cblxuLnBhZ2luYXRpb24gYnV0dG9uOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcbiAgYmFja2dyb3VuZDogIzRhNTU2ODtcbn1cblxuLnBhZ2luYXRpb24gYnV0dG9uOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZDogIzFhMjAyYztcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuLnBhZ2luYXRpb24gYnV0dG9uLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6ICMzMTgyY2U7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLnRvcC1zZWFyY2gge1xuICBtYXJnaW46IDAuNXJlbSAwIDFyZW0gMDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuXG4udG9wLXNlYXJjaCBpbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAwLjRyZW0gMC42cmVtO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["computed","signal","effect","CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","f_r1","url","ɵɵadvance","ɵɵtextInterpolate2","episode_id","title","s_r2","ɵɵtextInterpolate","name","ɵɵlistener","CharacterListComponent_li_35_Template_li_click_0_listener","p_r4","ɵɵrestoreView","_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","open","birth_year","ɵɵelementContainerStart","CharacterListComponent_ng_container_52_Template_button_click_1_listener","page_r7","_r6","goToPage","ɵɵclassProp","currentPage","ɵɵtextInterpolate1","CharacterListComponent","swapi","router","people","films","species","searchTerm","selectedFilmUrl","selectedSpeciesUrl","minYear","maxYear","pageSize","filtered","term","toLowerCase","trim","film","min","max","filter","p","includes","parsed","parseBirthYear","paginated","all","size","start","slice","totalPages","Math","ceil","length","pages","total","Array","from","_","i","constructor","getAllPeople","subscribe","set","prefetchForFilters","sort","a","b","localeCompare","id","idFromUrl","navigate","clearFilters","page","nextPage","update","v","prevPage","goToFirstPage","goToLastPage","ɵɵdirectiveInject","i1","SwapiService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CharacterListComponent_Template","rf","ctx","CharacterListComponent_Template_input_ngModelChange_3_listener","$event","CharacterListComponent_Template_select_ngModelChange_7_listener","ɵɵtemplate","CharacterListComponent_option_10_Template","CharacterListComponent_Template_select_ngModelChange_14_listener","CharacterListComponent_option_17_Template","CharacterListComponent_Template_input_ngModelChange_22_listener","CharacterListComponent_Template_input_ngModelChange_25_listener","CharacterListComponent_Template_button_click_26_listener","CharacterListComponent_li_35_Template","CharacterListComponent_Template_select_ngModelChange_39_listener","CharacterListComponent_Template_button_click_48_listener","CharacterListComponent_Template_button_click_50_listener","CharacterListComponent_ng_container_52_Template","CharacterListComponent_Template_button_click_53_listener","CharacterListComponent_Template_button_click_55_listener","i3","NgForOf","i4","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["C:\\Users\\bharg\\Downloads\\Angular Assignment\\src\\app\\components\\character-list.component.ts","C:\\Users\\bharg\\Downloads\\Angular Assignment\\src\\app\\components\\character-list.component.html"],"sourcesContent":["import { Component, computed, signal, effect } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\nimport { SwapiService } from '../services/swapi.service';\nimport type { Person, Film, Species } from '../models/swapi.models';\n\n@Component({\n  selector: 'app-character-list',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './character-list.component.html',\n  styleUrls: ['./character-list.component.css']\n})\nexport class CharacterListComponent {\n  people = signal<Person[]>([]);\n  films = signal<Film[]>([]);\n  species = signal<Species[]>([]);\n  searchTerm = signal('');\n  selectedFilmUrl = signal<string>('');\n  selectedSpeciesUrl = signal<string>('');\n  minYear = signal<number | null>(null);\n  maxYear = signal<number | null>(null);\n  currentPage = signal(1);\n  pageSize = signal(10);\n\n  filtered = computed(() => {\n    const term = this.searchTerm().toLowerCase().trim();\n    const film = this.selectedFilmUrl();\n    const species = this.selectedSpeciesUrl();\n    const min = this.minYear();\n    const max = this.maxYear();\n    return this.people().filter(p => {\n      if (term && !p.name.toLowerCase().includes(term)) return false;\n      if (film && !p.films.includes(film)) return false;\n      if (species && !p.species.includes(species)) return false;\n      const parsed = this.swapi.parseBirthYear(p.birth_year);\n      if (min !== null && parsed !== null && parsed < min) return false;\n      if (max !== null && parsed !== null && parsed > max) return false;\n      if ((min !== null || max !== null) && parsed === null) return false;\n\n      return true;\n    });\n  });\n  paginated = computed(() => {\n    const all = this.filtered();\n    const size = this.pageSize();\n    const start = (this.currentPage() - 1) * size;\n    return all.slice(start, start + size);\n  });\n  totalPages = computed(() => {\n    return Math.ceil(this.filtered().length / this.pageSize()) || 1;\n  });\n  pages = computed(() => {\n    const total = this.totalPages();\n    return Array.from({ length: total }, (_, i) => i + 1);\n  });\n  constructor(private swapi: SwapiService, private router: Router) {\n    this.swapi.getAllPeople().subscribe(all => {\n      this.people.set(all);\n      this.swapi.prefetchForFilters(all).subscribe(([films, species]) => {\n        this.films.set([...films].sort((a, b) => a.episode_id - b.episode_id));\n        this.species.set([...species].sort((a, b) => a.name.localeCompare(b.name)));\n      });\n    });\n    effect(() => {\n      this.searchTerm();\n      this.selectedFilmUrl();\n      this.selectedSpeciesUrl();\n      this.minYear();\n      this.maxYear();\n      this.pageSize();\n      this.filtered();\n      this.currentPage.set(1);\n    });\n  }\n  open(p: Person) {\n    const id = this.swapi.idFromUrl(p.url);\n    this.router.navigate(['/characters', id]);\n  }\n  clearFilters() {\n    this.selectedFilmUrl.set('');\n    this.selectedSpeciesUrl.set('');\n    this.minYear.set(null);\n    this.maxYear.set(null);\n    this.searchTerm.set('');\n    this.currentPage.set(1);\n  }\n  goToPage(page: number) {\n    if (page >= 1 && page <= this.totalPages()) {\n      this.currentPage.set(page);\n    }\n  }\n  nextPage() {\n    if (this.currentPage() < this.totalPages()) {\n      this.currentPage.update(v => v + 1);\n    }\n  }\n  prevPage() {\n    if (this.currentPage() > 1) {\n      this.currentPage.update(v => v - 1);\n    }\n  }\n  goToFirstPage() {\n    this.currentPage.set(1);\n  }\n  goToLastPage() {\n    this.currentPage.set(this.totalPages());\n  }\n}\n","<!-- <section class=\"layout\">\n  <aside class=\"filters\">\n    <h2>Filters</h2>\n\n    <div class=\"field\">\n      <label>Movie</label>\n      <select\n        [ngModel]=\"selectedFilmUrl()\"\n        (ngModelChange)=\"selectedFilmUrl.set($event)\"\n      >\n        <option value=\"\">All</option>\n        <option *ngFor=\"let f of films()\" [value]=\"f.url\">\n          Episode {{ f.episode_id }} — {{ f.title }}\n        </option>\n      </select>\n    </div>\n\n    <div class=\"field\">\n      <label>Species</label>\n      <select\n        [ngModel]=\"selectedSpeciesUrl()\"\n        (ngModelChange)=\"selectedSpeciesUrl.set($event)\"\n      >\n        <option value=\"\">All</option>\n        <option *ngFor=\"let s of species()\" [value]=\"s.url\">\n          {{ s.name }}\n        </option>\n      </select>\n    </div>\n\n    <div class=\"field\">\n      <label>Birth Year Range</label>\n      <div class=\"range-row\">\n        <input\n          type=\"text\"\n          [ngModel]=\"minYear()\"\n          (ngModelChange)=\"minYear.set($event)\"\n          placeholder=\"Min (-30 = 30BBY)\"\n        />\n        <span>to</span>\n        <input\n          type=\"text\"\n          [ngModel]=\"maxYear()\"\n          (ngModelChange)=\"maxYear.set($event)\"\n          placeholder=\"Max (5 = 5ABY)\"\n        />\n      </div>\n    </div>\n\n    <button (click)=\"clearFilters()\">Clear</button>\n  </aside>\n\n  <section class=\"list-card\">\n    <div class=\"list-header\">\n      <h2>Characters</h2>\n      <span>{{ filtered().length }} of {{ people().length }}</span>\n    </div>\n\n    <div class=\"search-row top-search\">\n      <input\n        type=\"search\"\n        placeholder=\"Search characters…\"\n        [ngModel]=\"searchTerm()\"\n        (ngModelChange)=\"searchTerm.set($event)\"\n      />\n    </div>\n\n    <ul class=\"list\">\n      <li *ngFor=\"let p of paginated()\" (click)=\"open(p)\" class=\"item\">\n        <span>{{ p.name }}</span>\n        <span class=\"chip\">{{ p.birth_year }}</span>\n      </li>\n    </ul>\n\n    <div class=\"pagination-controls\">\n      <label>\n        Show\n        <select [ngModel]=\"pageSize()\" (ngModelChange)=\"pageSize.set($event)\">\n          <option [ngValue]=\"10\">10</option>\n          <option [ngValue]=\"20\">20</option>\n          <option [ngValue]=\"50\">50</option>\n        </select>\n        per page\n      </label>\n    </div>\n\n    <div class=\"pagination\">\n      <button (click)=\"goToFirstPage()\" [disabled]=\"currentPage() === 1\">\n        First\n      </button>\n      <button (click)=\"prevPage()\" [disabled]=\"currentPage() === 1\">\n        Prev\n      </button>\n\n      <ng-container *ngFor=\"let page of pages()\">\n        <button\n          (click)=\"goToPage(page)\"\n          [class.active]=\"page === currentPage()\"\n        >\n          {{ page }}\n        </button>\n      </ng-container>\n\n      <button (click)=\"nextPage()\" [disabled]=\"currentPage() === totalPages()\">\n        Next\n      </button>\n      <button\n        (click)=\"goToLastPage()\"\n        [disabled]=\"currentPage() === totalPages()\"\n      >\n        Last\n      </button>\n    </div>\n  </section>\n</section> -->\n\n<section class=\"layout\">\n\n  <!-- Toolbar with search + filters -->\n  <div class=\"toolbar\">\n    <!-- Search -->\n    <div class=\"field search-box\">\n      <input type=\"search\"\n             placeholder=\"Search characters…\"\n             [ngModel]=\"searchTerm()\"\n             (ngModelChange)=\"searchTerm.set($event)\" />\n    </div>\n\n    <!-- Movie filter -->\n    <div class=\"field\">\n      <label>Movie</label>\n      <select [ngModel]=\"selectedFilmUrl()\" (ngModelChange)=\"selectedFilmUrl.set($event)\">\n        <option value=\"\">All</option>\n        <option *ngFor=\"let f of films()\" [value]=\"f.url\">\n          Ep {{f.episode_id}} — {{f.title}}\n        </option>\n      </select>\n    </div>\n\n    <!-- Species filter -->\n    <div class=\"field\">\n      <label>Species</label>\n      <select [ngModel]=\"selectedSpeciesUrl()\" (ngModelChange)=\"selectedSpeciesUrl.set($event)\">\n        <option value=\"\">All</option>\n        <option *ngFor=\"let s of species()\" [value]=\"s.url\">{{s.name}}</option>\n      </select>\n    </div>\n\n    <!-- Birth year range -->\n    <div class=\"field\">\n      <label>Birth Year</label>\n      <div class=\"range-row\">\n        <input type=\"text\"\n               [ngModel]=\"minYear()\"\n               (ngModelChange)=\"minYear.set($event)\"\n               placeholder=\"Min (-30 = 30BBY)\" />\n        <span>to</span>\n        <input type=\"text\"\n               [ngModel]=\"maxYear()\"\n               (ngModelChange)=\"maxYear.set($event)\"\n               placeholder=\"Max (5 = 5ABY)\" />\n      </div>\n    </div>\n\n    <button (click)=\"clearFilters()\">Clear</button>\n  </div>\n\n  <!-- Character list -->\n  <section class=\"list-card\">\n    <div class=\"list-header\">\n      <h2>Characters</h2>\n      <span>{{filtered().length}} of {{people().length}}</span>\n    </div>\n\n    <ul class=\"list\">\n      <li *ngFor=\"let p of paginated()\" (click)=\"open(p)\" class=\"item\">\n        <span>{{p.name}}</span>\n        <span class=\"chip\">{{p.birth_year}}</span>\n      </li>\n    </ul>\n\n    <!-- Page size selector -->\n    <div class=\"pagination-controls\">\n      <label>\n        Show\n        <select [ngModel]=\"pageSize()\" (ngModelChange)=\"pageSize.set($event)\">\n          <option [ngValue]=\"10\">10</option>\n          <option [ngValue]=\"20\">20</option>\n          <option [ngValue]=\"50\">50</option>\n        </select>\n        per page\n      </label>\n    </div>\n\n    <!-- Pagination -->\n    <div class=\"pagination\">\n      <button (click)=\"goToFirstPage()\" [disabled]=\"currentPage() === 1\">First</button>\n      <button (click)=\"prevPage()\" [disabled]=\"currentPage() === 1\">Prev</button>\n\n      <ng-container *ngFor=\"let page of pages()\">\n        <button\n          (click)=\"goToPage(page)\"\n          [class.active]=\"page === currentPage()\">\n          {{ page }}\n        </button>\n      </ng-container>\n\n      <button (click)=\"nextPage()\" [disabled]=\"currentPage() === totalPages()\">Next</button>\n      <button (click)=\"goToLastPage()\" [disabled]=\"currentPage() === totalPages()\">Last</button>\n    </div>\n  </section>\n</section>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}