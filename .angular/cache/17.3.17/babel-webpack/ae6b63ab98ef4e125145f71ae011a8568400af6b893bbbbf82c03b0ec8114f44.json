{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/swapi.service\";\nimport * as i3 from \"@angular/common\";\nfunction CharacterDetailComponent_section_2_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r1.name);\n  }\n}\nfunction CharacterDetailComponent_section_2_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Human (default)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CharacterDetailComponent_section_2_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"Ep \", f_r2.episode_id, \" - \", f_r2.title, \"\");\n  }\n}\nfunction CharacterDetailComponent_section_2_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r3.name);\n  }\n}\nfunction CharacterDetailComponent_section_2_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"None\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CharacterDetailComponent_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 2)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"strong\");\n    i0.ɵɵtext(5, \"Birth Year:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Species:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CharacterDetailComponent_section_2_span_10_Template, 2, 1, \"span\", 3)(11, CharacterDetailComponent_section_2_span_11_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"strong\");\n    i0.ɵɵtext(14, \"Movies:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, CharacterDetailComponent_section_2_span_15_Template, 2, 2, \"span\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\")(17, \"strong\");\n    i0.ɵɵtext(18, \"Starships:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, CharacterDetailComponent_section_2_span_19_Template, 2, 1, \"span\", 3)(20, CharacterDetailComponent_section_2_span_20_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.person().name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.person().birth_year, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.species());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.species().length);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.films());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.starships());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.starships().length);\n  }\n}\nexport class CharacterDetailComponent {\n  swapi;\n  person = signal(null);\n  films = signal([]);\n  species = signal([]);\n  starships = signal([]);\n  constructor(route, swapi) {\n    this.swapi = swapi;\n    const id = Number(route.snapshot.paramMap.get('id'));\n    this.swapi.getPersonById(id).subscribe(p => {\n      this.person.set(p);\n      if (p.films.length) forkJoin(p.films.map(u => this.swapi.getFilm(u))).subscribe(f => this.films.set(f));\n      if (p.species.length) forkJoin(p.species.map(u => this.swapi.getSpecies(u))).subscribe(s => this.species.set(s));\n      if (p.starships.length) forkJoin(p.starships.map(u => this.swapi.getStarship(u))).subscribe(s => this.starships.set(s));\n    });\n  }\n  static ɵfac = function CharacterDetailComponent_Factory(t) {\n    return new (t || CharacterDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SwapiService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CharacterDetailComponent,\n    selectors: [[\"app-character-detail\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 3,\n    vars: 1,\n    consts: [[\"routerLink\", \"/characters\"], [\"class\", \"card\", 4, \"ngIf\"], [1, \"card\"], [\"class\", \"chip\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"chip\"]],\n    template: function CharacterDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵtext(1, \"\\u2190 Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, CharacterDetailComponent_section_2_Template, 21, 7, \"section\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.person());\n      }\n    },\n    dependencies: [CommonModule, i3.NgForOf, i3.NgIf, RouterLink],\n    styles: [\".card[_ngcontent-%COMP%] { background:var(--card); padding:1rem; border-radius:.5rem; }\\n.chip[_ngcontent-%COMP%] { background:var(--chip); padding:.2rem .4rem; border-radius:.3rem; margin-right:.3rem; font-size:.85rem; }\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGFyYWN0ZXItZGV0YWlsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLFFBQVEsc0JBQXNCLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFO0FBQ25FLFFBQVEsc0JBQXNCLEVBQUUsbUJBQW1CLEVBQUUsbUJBQW1CLEVBQUUsa0JBQWtCLEVBQUUsZ0JBQWdCLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5jYXJkIHsgYmFja2dyb3VuZDp2YXIoLS1jYXJkKTsgcGFkZGluZzoxcmVtOyBib3JkZXItcmFkaXVzOi41cmVtOyB9XG4uY2hpcCB7IGJhY2tncm91bmQ6dmFyKC0tY2hpcCk7IHBhZGRpbmc6LjJyZW0gLjRyZW07IGJvcmRlci1yYWRpdXM6LjNyZW07IG1hcmdpbi1yaWdodDouM3JlbTsgZm9udC1zaXplOi44NXJlbTsgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["signal","CommonModule","RouterLink","forkJoin","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","s_r1","name","ɵɵtextInterpolate2","f_r2","episode_id","title","s_r3","ɵɵtemplate","CharacterDetailComponent_section_2_span_10_Template","CharacterDetailComponent_section_2_span_11_Template","CharacterDetailComponent_section_2_span_15_Template","CharacterDetailComponent_section_2_span_19_Template","CharacterDetailComponent_section_2_span_20_Template","ctx_r3","person","ɵɵtextInterpolate1","birth_year","ɵɵproperty","species","length","films","starships","CharacterDetailComponent","swapi","constructor","route","id","Number","snapshot","paramMap","get","getPersonById","subscribe","p","set","map","u","getFilm","f","getSpecies","s","getStarship","ɵɵdirectiveInject","i1","ActivatedRoute","i2","SwapiService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CharacterDetailComponent_Template","rf","ctx","CharacterDetailComponent_section_2_Template","i3","NgForOf","NgIf","styles"],"sources":["C:\\Users\\bharg\\Downloads\\Angular Assignment\\src\\app\\components\\character-detail.component.ts","C:\\Users\\bharg\\Downloads\\Angular Assignment\\src\\app\\components\\character-detail.component.html"],"sourcesContent":["\nimport { Component, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, RouterLink } from '@angular/router';\nimport { forkJoin } from 'rxjs';\nimport { SwapiService } from '../services/swapi.service';\nimport type { Person, Film, Species, Starship } from '../models/swapi.models';\n\n@Component({\n  selector: 'app-character-detail',\n  standalone: true,\n  imports: [CommonModule, RouterLink],\n  templateUrl: './character-detail.component.html',\n  styleUrls: ['./character-detail.component.css']\n})\nexport class CharacterDetailComponent {\n  person = signal<Person | null>(null);\n  films = signal<Film[]>([]);\n  species = signal<Species[]>([]);\n  starships = signal<Starship[]>([]);\n\n  constructor(route: ActivatedRoute, private swapi: SwapiService) {\n    const id = Number(route.snapshot.paramMap.get('id'));\n    this.swapi.getPersonById(id).subscribe(p => {\n      this.person.set(p);\n      if (p.films.length) forkJoin(p.films.map(u=>this.swapi.getFilm(u))).subscribe(f=>this.films.set(f));\n      if (p.species.length) forkJoin(p.species.map(u=>this.swapi.getSpecies(u))).subscribe(s=>this.species.set(s));\n      if (p.starships.length) forkJoin(p.starships.map(u=>this.swapi.getStarship(u))).subscribe(s=>this.starships.set(s));\n    });\n  }\n}\n","<a routerLink=\"/characters\">← Back</a>\n\n<section *ngIf=\"person()\" class=\"card\">\n  <h2>{{person()!.name}}</h2>\n\n  <div><strong>Birth Year:</strong> {{person()!.birth_year}}</div>\n\n  <div>\n    <strong>Species:</strong>\n    <span *ngFor=\"let s of species()\" class=\"chip\">{{s.name}}</span>\n    <span *ngIf=\"!species().length\">Human (default)</span>\n  </div>\n\n  <div>\n    <strong>Movies:</strong>\n    <span *ngFor=\"let f of films()\" class=\"chip\">Ep {{f.episode_id}} - {{f.title}}</span>\n  </div>\n\n  <div>\n    <strong>Starships:</strong>\n    <span *ngFor=\"let s of starships()\" class=\"chip\">{{s.name}}</span>\n    <span *ngIf=\"!starships().length\">None</span>\n  </div>\n</section>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}